<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="不知道要写点啥">
<meta property="og:type" content="website">
<meta property="og:title" content="MadShawn&#39;s Pages">
<meta property="og:url" content="https://madshawn.github.io/index.html">
<meta property="og:site_name" content="MadShawn&#39;s Pages">
<meta property="og:description" content="不知道要写点啥">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MadShawn&#39;s Pages">
<meta name="twitter:description" content="不知道要写点啥">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://madshawn.github.io/"/>





  <title>MadShawn's Pages</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MadShawn's Pages</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">First github page</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/./" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/./archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-vuetest">
          <a href="https://madshawn.github.io/VueTest" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bug"></i> <br />
            
            VueTest
          </a>
        </li>
      
        
        <li class="menu-item menu-item-baidu">
          <a href="http://www.baidu.com" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-search"></i> <br />
            
            Baidu
          </a>
        </li>
      
        
        <li class="menu-item menu-item-es6tutorial">
          <a href="https://madshawn.github.io/es6tutorial" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-search"></i> <br />
            
            ES6Tutorial
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2018/03/15/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/15/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-15T05:57:03Z">
                2018-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2018/03/14/Web代码注释规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/14/Web代码注释规范/" itemprop="url">Web代码注释规范</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-14T15:22:35Z">
                2018-03-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>为了提升代码的可读性和可维护性，同时为了提高代码总体的注释率，特制定此注释规范。本规范只针对Javascript文件，以支持ES6语法的EsDoc规范为基准，结合我们代码的现状，以及公司的相关要求，综合制定。主要包含以下几个方面的规定：</p>
<blockquote>
<p><strong>总的原则</strong>：  </p>
<ul>
<li>除类文件之外的所有文件必须有文件头注释</li>
<li>所有类文件必须有类注释</li>
<li>所有的全局变量必须有注释</li>
<li>所有的函数必须有注释</li>
</ul>
</blockquote>
<ul>
<li>普通脚本文件<ul>
<li>文件头</li>
<li>全局变量</li>
<li>函数</li>
</ul>
</li>
<li>类文件<ul>
<li>类注释</li>
<li>成员变量</li>
<li>成员函数</li>
</ul>
</li>
<li>组件脚本文件<ul>
<li>组件</li>
<li>内部变量</li>
<li>成员变量</li>
<li>内部函数</li>
<li>成员函数</li>
</ul>
</li>
<li>其他规定<ul>
<li>重要的公共函数</li>
<li>复杂逻辑代码</li>
<li>特殊处理代码</li>
<li>特殊需求代码</li>
<li>被注释的代码</li>
</ul>
</li>
</ul>
<h1 id="普通脚本文件"><a href="#普通脚本文件" class="headerlink" title="普通脚本文件"></a>普通脚本文件</h1><p>普通脚本文件是指无明确的组织结构，只是变量和函数组合的文件，比如WebApp项目中定义全局变量的Application.js、定义全局公共函数对象的Util.js等。注释规范如下：</p>
<h2 id="文件头"><a href="#文件头" class="headerlink" title="文件头"></a>文件头</h2><p><strong>重要度：</strong> 必须有<br>在文件最开始插入，描述文件的目的/内容/功能等，采用多行注释，如下Application.js文件头注释：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定义web app全局命名空间，并在此空间下定义属性和函数，以便全局使用</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure></p>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p><strong>重要度：</strong> 必须有<br>全局变量指的是声明在window对象下的变量。如下Application.js文件中定义的全局变量的注释：</p>
<blockquote>
<p>在使用了angular、vue、react等组件化的前端框架的单页面web app中，此种意义上的全局变量应该很少<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * App全局命名空间</span></span><br><span class="line"><span class="comment"> * @type &#123;Object&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> App = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 全局配置信息</span></span><br><span class="line"><span class="comment"> * @type &#123;Object&#125;</span></span><br><span class="line"><span class="comment"> * @property &#123;Object&#125; ml 大陆环境配置</span></span><br><span class="line"><span class="comment"> * @property &#123;Object&#125; hm 港澳环境配置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">App.serverList = &#123;</span><br><span class="line">    ml: &#123;</span><br><span class="line">        <span class="comment">/* trunk服务 */</span></span><br><span class="line">        serviceUrl: <span class="string">'http://www.xxxx.com/service'</span>,</span><br><span class="line">        <span class="comment">/* trunk地图服务 */</span></span><br><span class="line">        subdomainsServiceUrl: <span class="string">'http://www.xxxx.com/service'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    hm: &#123;</span><br><span class="line">        <span class="comment">/* 港澳服务 */</span></span><br><span class="line">        serviceUrl: <span class="string">'http://www.xxxx.com/hm/service'</span>,</span><br><span class="line">        <span class="comment">/* 港澳地图服务 */</span></span><br><span class="line">        subdomainsServiceUrl: <span class="string">'http://www.xxxx.com/hm/service'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p><strong>重要度：</strong> 必须有<br>无论是定义在脚本文件的全局函数，还是定义在类、组件、对象中的内部函数，都需要加完整的注释，注释规范如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 从url地址中获取拼接的参数值</span></span><br><span class="line"><span class="comment"> * @param   &#123;String&#125;    paramName 参数名称</span></span><br><span class="line"><span class="comment"> * @return  &#123;String&#125;    参数值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">getUrlParam: <span class="function"><span class="keyword">function</span> (<span class="params">paramName</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(^|&amp;)'</span> + paramName + <span class="string">'=([^&amp;]*)(&amp;|$)'</span>);</span><br><span class="line">    <span class="keyword">var</span> str = <span class="built_in">window</span>.location.search;</span><br><span class="line">    <span class="keyword">var</span> ret;</span><br><span class="line">    <span class="keyword">if</span> (!str) &#123;</span><br><span class="line">        str = <span class="built_in">window</span>.location.hash;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (str) &#123;</span><br><span class="line">        ret = str.substr(str.indexOf(<span class="string">'?'</span>) + <span class="number">1</span>).match(reg);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (ret) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">unescape</span>(ret[<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<h1 id="类文件"><a href="#类文件" class="headerlink" title="类文件"></a>类文件</h1><p>类文件是指使用es6的class语法定义的文件，一般一个类的定义是一个单独的文件，因此类文件可以没有文件头注释，以类注释替代。</p>
<h2 id="类注释"><a href="#类注释" class="headerlink" title="类注释"></a>类注释</h2><p><strong>重要度：</strong> 必须有<br>类注释与文件头注释类似，采用多行注释形式。类注释要放在import语句之后，类定义之前，且必须紧贴类定义，不能有空行。例子如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Singleton <span class="keyword">from</span> <span class="string">'./Singleton'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对象控制器类的基类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Controller</span> <span class="keyword">extends</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 构造函数</span></span><br><span class="line"><span class="comment">     * @param  &#123;object&#125; options 可选项</span></span><br><span class="line"><span class="comment">     * @return &#123;undefined&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">        <span class="keyword">super</span>(options);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 清空</span></span><br><span class="line"><span class="comment">     * @return &#123;undefined&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    clear() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 销毁单例</span></span><br><span class="line"><span class="comment">     * @return &#123;undefined&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    destroy() &#123;</span><br><span class="line">        <span class="keyword">this</span>.clear();</span><br><span class="line">        <span class="keyword">super</span>.destroy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h2><p><strong>重要度：</strong> 原则上都要有注释，尤其重要类、类的重要变量必须有<br>成员变量分为普通成员变量和静态成员变量。普通成员指的是在contructor函数中定义在this下的变量；静态变量是以<code>static</code>关键词修饰的变量，注释的规范一样，如下边两个例子中的<code>this._kvMap</code>和<code>instance</code>变量：</p>
<ul>
<li><p>普通成员变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Singleton <span class="keyword">from</span> <span class="string">'./Singleton'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 工厂类的基类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory</span> <span class="keyword">extends</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 构造函数</span></span><br><span class="line"><span class="comment">     * @param  &#123;object&#125;     options 其他参数</span></span><br><span class="line"><span class="comment">     * @return &#123;undefined&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">        <span class="keyword">super</span>(options);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 配置表</span></span><br><span class="line"><span class="comment">         * @type &#123;Object&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">this</span>._kvMap = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取配置</span></span><br><span class="line"><span class="comment">     * @return &#123;object&#125; 键值对对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    getConfig() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._kvMap;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>静态成员变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单例对象的实例</span></span><br><span class="line"><span class="comment"> * @type &#123;class&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> instance = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取单例对象的实例</span></span><br><span class="line"><span class="comment"> * @param  &#123;...all&#125; rest 参数</span></span><br><span class="line"><span class="comment"> * @return &#123;class&#125;  单例对象的实例</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> getInstance(...rest) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.instance) &#123;</span><br><span class="line">        <span class="keyword">this</span>.instance = <span class="keyword">new</span> <span class="keyword">this</span>(...rest);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="成员函数"><a href="#成员函数" class="headerlink" title="成员函数"></a>成员函数</h2><p><strong>重要度：</strong> 必须有<br>成员函数也分为普通成员函数和静态成员函数。普通成员指的是在contructor函数中定义在this下的变量；静态变量是以<code>static</code>关键词修饰的变量，注释的规范一样，如下边两个例子中的<code>getConfig</code>和<code>getInstance</code>函数：</p>
<ul>
<li><p>普通成员函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Singleton <span class="keyword">from</span> <span class="string">'./Singleton'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 工厂类的基类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Factory</span> <span class="keyword">extends</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 构造函数</span></span><br><span class="line"><span class="comment">     * @param  &#123;object&#125;     options 其他参数</span></span><br><span class="line"><span class="comment">     * @return &#123;undefined&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">constructor</span>(options) &#123;</span><br><span class="line">        <span class="keyword">super</span>(options);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 配置表</span></span><br><span class="line"><span class="comment">         * @type &#123;Object&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">this</span>._kvMap = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取配置</span></span><br><span class="line"><span class="comment">     * @return &#123;object&#125; 键值对对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    getConfig() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._kvMap;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>静态成员函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 单例对象的实例</span></span><br><span class="line"><span class="comment"> * @type &#123;class&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> instance = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取单例对象的实例</span></span><br><span class="line"><span class="comment"> * @param  &#123;...all&#125; rest 参数</span></span><br><span class="line"><span class="comment"> * @return &#123;class&#125;  单例对象的实例</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> getInstance(...rest) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.instance) &#123;</span><br><span class="line">        <span class="keyword">this</span>.instance = <span class="keyword">new</span> <span class="keyword">this</span>(...rest);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="组件脚本文件"><a href="#组件脚本文件" class="headerlink" title="组件脚本文件"></a>组件脚本文件</h1><p>组件脚本文件是指采用了angular、vue等前端框架之后，开发的各个组件对应的javascript脚本文件，如angular的module、controller、service等组件，vue的component文件等。<br>下面是一个比较全的例子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件头注释</span></span><br><span class="line"><span class="comment"> * 地图工具面板组件的控制器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">angular.module(<span class="string">'app'</span>).controller(<span class="string">'MapAllToolbarPanelCtrl'</span>, [<span class="string">'$scope'</span>, <span class="string">'$rootScope'</span>, <span class="string">'$compile'</span>, <span class="string">'$timeout'</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">$scope, $rootScope, $compile, $timeout</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// var layerCtrl = fastmap.uikit.LayerController();</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 内部变量</span></span><br><span class="line"><span class="comment">         * 形状编辑控制</span></span><br><span class="line"><span class="comment">         * @type &#123;object&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">var</span> shapeCtrl = fastmap.uikit.ShapeEditorController();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 成员变量</span></span><br><span class="line"><span class="comment">         * 控制是否可编辑</span></span><br><span class="line"><span class="comment">         * @type &#123;Boolean&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        $scope.editable = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 内部函数</span></span><br><span class="line"><span class="comment">         * 切换可编辑状态</span></span><br><span class="line"><span class="comment">         * @param  &#123;object&#125;   event 页面事件</span></span><br><span class="line"><span class="comment">         * @param  &#123;object&#125;   data  数据</span></span><br><span class="line"><span class="comment">         * @return &#123;undefined&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">var</span> toggleEditable = <span class="function"><span class="keyword">function</span> (<span class="params">event, data</span>) </span>&#123;</span><br><span class="line">            $scope.editable = data.editable;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 成员函数</span></span><br><span class="line"><span class="comment">         * 讲工具从常用工具栏移入/移出</span></span><br><span class="line"><span class="comment">         * @param  &#123;object&#125;   e 页面事件</span></span><br><span class="line"><span class="comment">         * @return &#123;undefined&#125;</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        $scope.toggleToRecent = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> ($scope.editable) &#123;</span><br><span class="line">                <span class="keyword">var</span> elem = angular.element(e.currentTarget);</span><br><span class="line">                <span class="keyword">var</span> p = elem.parent();</span><br><span class="line">                <span class="keyword">if</span> (p.hasClass(<span class="string">'selected'</span>)) &#123;</span><br><span class="line">                    $scope.$emit(<span class="string">'MapToolbar-removeTool'</span>, &#123;</span><br><span class="line">                        ngController: p.attr(<span class="string">'ng-controller'</span>),</span><br><span class="line">                        ngClick: p.attr(<span class="string">'ng-click'</span>)</span><br><span class="line">                    &#125;);</span><br><span class="line">                    p.removeClass(<span class="string">'selected'</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    $scope.$emit(<span class="string">'MapToolbar-addTool'</span>, &#123;</span><br><span class="line">                        title: p.attr(<span class="string">'title'</span>),</span><br><span class="line">                        ngController: p.attr(<span class="string">'ng-controller'</span>),</span><br><span class="line">                        ngClick: p.attr(<span class="string">'ng-click'</span>),</span><br><span class="line">                        ngClass: p.attr(<span class="string">'ng-class'</span>),</span><br><span class="line">                        icon: elem.html()</span><br><span class="line">                    &#125;);</span><br><span class="line">                    p.addClass(<span class="string">'selected'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                e.stopPropagation();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="文件头-1"><a href="#文件头-1" class="headerlink" title="文件头"></a>文件头</h2><p><strong>重要度：</strong> 必须有<br>见上例。</p>
<blockquote>
<p>文件头注释与代码之间要加一个空行，防止esdoc将其认为是一个函数注释</p>
</blockquote>
<h2 id="内部变量"><a href="#内部变量" class="headerlink" title="内部变量"></a>内部变量</h2><p><strong>重要度：</strong> 重要属性要有<br>内部变量是指组件内的全局变量，对组件内的所有函数可见。注释规范同变量，见上例。</p>
<h2 id="成员变量-1"><a href="#成员变量-1" class="headerlink" title="成员变量"></a>成员变量</h2><p><strong>重要度：</strong> 重要变量要有<br>成员变量是指定义在组件特定命名空间下的变量，如上例中的<code>$scope</code>中的变量。注释规范同变量，见上例。</p>
<h2 id="内部函数"><a href="#内部函数" class="headerlink" title="内部函数"></a>内部函数</h2><p><strong>重要度：</strong> 必须有<br>内部函数是指组件内的全局函数，对组件内的其他所有函数可见。注释规范同函数，见上例。</p>
<h2 id="成员函数-1"><a href="#成员函数-1" class="headerlink" title="成员函数"></a>成员函数</h2><p><strong>重要度：</strong> 必须有<br>成员函数是指定义在组件特定命名空间下的函数，如上例中的<code>$scope</code>中的函数。注释规范同函数，见上例。</p>
<h1 id="其他规定"><a href="#其他规定" class="headerlink" title="其他规定"></a>其他规定</h1><h2 id="重要的公共函数"><a href="#重要的公共函数" class="headerlink" title="重要的公共函数"></a>重要的公共函数</h2><p><strong>重要度：</strong> 必须有  </p>
<ul>
<li>基类中被多个子类调用的</li>
<li>常用的函数  </li>
</ul>
<p>此类函数要加上详细的函数说明，并要对函数参数进行详细的说明，如值域、对象的固有属性等。</p>
<h2 id="复杂逻辑代码"><a href="#复杂逻辑代码" class="headerlink" title="复杂逻辑代码"></a>复杂逻辑代码</h2><p><strong>重要度：</strong> 必须有  </p>
<ul>
<li>判断条件超过3个的  </li>
<li>循环/判断超过2层嵌套的</li>
</ul>
<h2 id="特殊处理代码"><a href="#特殊处理代码" class="headerlink" title="特殊处理代码"></a>特殊处理代码</h2><p><strong>重要度：</strong> 必须有</p>
<ul>
<li>循环中的特殊判断跳出</li>
<li>变量的特殊赋值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// add by chenx on 2017-4-27</span></span><br><span class="line"><span class="comment">// 解决切换任务后，地图不能正常加载的问题</span></span><br><span class="line">$timeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $scope.$broadcast(<span class="string">'Map-Initialize'</span>);</span><br><span class="line">&#125;, <span class="number">100</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="特殊需求代码"><a href="#特殊需求代码" class="headerlink" title="特殊需求代码"></a>特殊需求代码</h2><p><strong>重要度：</strong> 必须有</p>
<ul>
<li>用户提出的一些特殊处理需求</li>
</ul>
<h2 id="被注释的代码"><a href="#被注释的代码" class="headerlink" title="被注释的代码"></a>被注释的代码</h2><p><strong>重要度：</strong> 必须有<br>如果是由于某些情况临时注释，后续有可能有用的代码，则必须加注释信息；</p>
<h1 id="需求-Bug-生产问题的注释"><a href="#需求-Bug-生产问题的注释" class="headerlink" title="需求/Bug/生产问题的注释"></a>需求/Bug/生产问题的注释</h1><p>对应需求、bug和生产问题时修改的代码，如果是符合<strong>其他规定</strong>中的内容的，需要加上对应的注释。<br>正常的任务开发和bug修改只需要在提交代码时，在commit信息里写清楚具体的需求、任务、bug编号即可，以便在github上追溯。</p>
<h1 id="esdoc生成器"><a href="#esdoc生成器" class="headerlink" title="esdoc生成器"></a>esdoc生成器</h1><ul>
<li><p>npm安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install esdoc</span><br><span class="line">npm install esdoc-standard-plugin</span><br></pre></td></tr></table></figure>
</li>
<li><p>esdoc使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./node_modules/.bin/esdoc</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>参考<a href="https://esdoc.org/" target="_blank" rel="noopener">esdoc官网</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2017/10/25/审图项目工作计划/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/25/审图项目工作计划/" itemprop="url">审图项目工作计划</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-25T14:18:03Z">
                2017-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>接到一个审图的项目，功能较小，打算我们包揽前后端以及数据库，这里列一下大体的工作安排和计划。</p>
<h2 id="时间和资源"><a href="#时间和资源" class="headerlink" title="时间和资源"></a>时间和资源</h2><ul>
<li>时间<br>设计3天，10月27日出设计<br>开发3周，10.30-11.17</li>
<li>人员<br>两个人：wz，ll</li>
</ul>
<h2 id="工作计划"><a href="#工作计划" class="headerlink" title="工作计划"></a>工作计划</h2><h3 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h3><ul>
<li>负责人： cx</li>
</ul>
<h4 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h4><ol>
<li>前端框架<br>vue</li>
<li>地图组件<br>mapbox-gl</li>
<li>服务框架<br>nodejs-express</li>
</ol>
<h4 id="功能设计"><a href="#功能设计" class="headerlink" title="功能设计"></a>功能设计</h4><p>这里首先澄清两个概念：<br>管理员录入的问题，我们称之为 <strong>案例（Case）</strong><br>作业员针对 <strong>案例(Case)</strong> 录入的问题，我们称之为 <strong>问题（Issue）</strong></p>
<ul>
<li>总体功能目标<ol>
<li>管理员录入案例</li>
<li>作业员创建项目，并在项目中针对所有案例录入问题</li>
<li>管理员对作业员录入的项目、问题进行审核</li>
<li>对于审核不通过的项目和问题作业员要进行修改、重新提交审核</li>
<li>审核通过的项目直接成为完成的项目</li>
</ol>
</li>
<li>详细设计<ol>
<li>用户登录</li>
<li>用户分角色控制，两种角色：管理员和作业员</li>
<li>管理员要能审核项目，能录入案例；作业员能创建项目、录入项目问题、提交项目；</li>
<li>实时地图数据查看</li>
<li>管理员-案例的增删改</li>
<li>管理员-案例列表，以及逐条查看</li>
<li>管理员-案例录入支持照片、视频的上传，以及查看</li>
<li>管理员-案例录入时，支持在地图上标记点位，一个案例对应一个点位，方便定位</li>
<li>管理员-案例录入保存时，要记录标记点，以及缩放等级，以便查看时对应定位地图</li>
<li>管理员-案例要分用户存储，即要记录创建用户</li>
<li>如果在地图上需要手绘图形，可以用jquery的wPaint、Zwibbler等插件</li>
<li>作业员-能创建、查看项目</li>
<li>作业员-进入项目后，能看到地图、案例列表（所有的）</li>
<li>作业员-能针对案例逐条录入问题，能增删改，能上传图片、视频；</li>
<li>作业员-系统显示案例列表时，要能区分出那些录入了问题，那些没录，方便作业员录入；</li>
<li>作业员录入完项目的所有案例问题后，可提交项目给指定的管理员进行审核；</li>
<li>管理员审核项目问题时，系统对案例列表的显示要能体现出案例的问题审核状态：待审核，审核通过，审核不通过；</li>
<li>管理员可对案例问题执行审核通过、审核不通过操作，不通过时可以录入备注信息；</li>
</ol>
</li>
</ul>
<h4 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h4><ul>
<li>管理表<ol>
<li>用户信息表 （用户，登录token，登录状态）</li>
<li>角色信息表</li>
<li>权限信息表</li>
<li>用户角色关系表</li>
<li>角色权限关系表</li>
<li>日志表？</li>
</ol>
</li>
<li>业务表<ol>
<li>项目信息表（项目ID，项目信息，创建人，创建时间，提交时间，项目状态，审核状态，审核人，审核时间，审核备注）</li>
<li>项目审核历史表（项目ID，审核人，审核时间，审核状态，审核备注）</li>
<li>案例信息表(案例ID，案例信息，创建时间，创建的管理员)</li>
<li>案例问题表（问题ID，项目ID，案例ID，问题内容，问题状态，审核人，审核时间，审核状态，审核备注）；</li>
<li>问题审核历史表（问题ID，审核人，审核时间，审核状态，审核备注）</li>
</ol>
</li>
</ul>
<h4 id="接口设计"><a href="#接口设计" class="headerlink" title="接口设计"></a>接口设计</h4><ol>
<li>登录（om/login）（返回用户信息、角色、权限等）</li>
<li>项目创建（task/create）</li>
<li>项目修改（task/update）</li>
<li>项目删除（task/delete）</li>
<li>项目列表（task/list）</li>
<li>项目详情（task/query）</li>
<li>项目提交（task/submit）</li>
<li>项目审核通过（task/audit/ok）</li>
<li>项目审核不通过（task/audit/no）</li>
<li>案例列表（case/list）</li>
<li>案例详情（case/query）</li>
<li>案例新增（case/create）</li>
<li>案例修改（case/update）</li>
<li>案例删除（case/delete）</li>
<li>案例附件上传（case/file/upload）</li>
<li>案例问题关联列表（issue/case/list）   —用于在项目中显示案例</li>
<li>案例问题详情（issue/case/query）      —用于在项目中显示案例</li>
<li>案例问题文件上传（issue/file/upload） —上传问题附件</li>
<li>案例问题更新（issue/update）          —更新问题案例问题（上传文件后自动执行）</li>
<li>案例问题审核通过（issue/audit/ok）</li>
<li>案例问题审核不通过（issue/audit/no）</li>
</ol>
<h3 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h3><blockquote>
<p>项目分为多期实现<br>第一期, 三周时间，实现管理员录入案例，作业员能针对案例录入问题功能即可。<br>后续逐步实施审核流转功能；</p>
</blockquote>
<h4 id="第一周"><a href="#第一周" class="headerlink" title="第一周"></a>第一周</h4><ol>
<li>前后端开发框架搭建；</li>
<li>实现用户登录，web+服务</li>
<li>实现项目列表，web+服务</li>
</ol>
<h4 id="第二周"><a href="#第二周" class="headerlink" title="第二周"></a>第二周</h4><ol>
<li>地图加载</li>
<li>案例列表</li>
<li>案例的增删改查</li>
<li>项目创建</li>
<li>项目查询</li>
<li>案例问题列表</li>
<li>案例问题的增删改查</li>
</ol>
<h4 id="第三周"><a href="#第三周" class="headerlink" title="第三周"></a>第三周</h4><ol>
<li>遗留问题的处理</li>
<li>用户试用，并提出改善</li>
<li>对应用户提的改善问题</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2017/09/27/vue-cesium的项目搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/27/vue-cesium的项目搭建/" itemprop="url">vue+cesium的项目搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-26T18:09:08Z">
                2017-09-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上周有一个在大屏幕上展示作业进展情况的需求，需要在一个地球上动态展示作业分布，以及一些其他的图表显示。我们打算采用流行的vue前端框架，地球的显示采用Cesium库，前端工程使用es6语法来写，使用webpack进行构建。<br>由于新接触Vue框架以及Cesium库，因此在搭建前端工程的时候遇到了几个典型的问题，在这里进行总结记录。</p>
<h2 id="vue框架搭建"><a href="#vue框架搭建" class="headerlink" title="vue框架搭建"></a>vue框架搭建</h2><h3 id="软硬件环境"><a href="#软硬件环境" class="headerlink" title="软硬件环境"></a>软硬件环境</h3><ul>
<li>操作系统：win2010</li>
<li>开发工具：vs code</li>
<li>软件环境：nodejs-7.7.3，npm-4.1.2</li>
</ul>
<h3 id="工程搭建"><a href="#工程搭建" class="headerlink" title="工程搭建"></a>工程搭建</h3><p>我们使用vue-cli命令行工具, 搭建使用webpack来构建的工程。</p>
<ol>
<li><p>安装vue-cli命令行工具：</p>
<pre><code>npm install -g vue-cli
</code></pre></li>
<li><p>创建vue工程：</p>
<pre><code>vue init webpack my-proj
</code></pre><blockquote>
<p>上述命令中， <code>vue init</code> 是命令，<code>webpack</code> 表示使用webpack工程模版，<code>my-proj</code> 是自定义的工程名称。<br>vue-cli命令行工具就不详细介绍了，网上的相关文章很多，<a href="https://www.npmjs.com/package/vue-cli" target="_blank" rel="noopener">npm官方连接</a>。使用 vue help命令，也能得到详细的帮助信息。  </p>
</blockquote>
<p> 执行上述命令后，会有很多yes/no的选择，以及一些简单的输入。主要涉及到工程名称、描述等，是否引入测试框架等等，主要用于生成工程的package.json，根据实际需要选择和输入即可。<br> 执行完所有输入后，vue-cli会将工程初始化出来，创建相应的目录和文件。目录结构如下：</p>
<pre><code>my-proj
├─build          // webpack配置文件以及用于构建的js文件
├─config         // webpack配置和构建文件中用到的配置信息文件
├─src            // 源代码目录
│  ├─assets      // 静态文件目录，如图片等
│  ├─components  // vue组件目录
│  └─router      // vue-router文件目录
├─static         // 外部的静态文件，webpack会在构建的时候把这里的文件拷贝到构建目录中
└─test           // 测试相关的文件目录，在创建工程时引入了测试框架的才会有
    └─unit
        └─specs
// 下边其实还有babel、eslint、package.json等配置文件，window的tree命令没列出来。。。
</code></pre><p> 此时，依赖的包只是被写入到了package.json中，并没有安装。进入工程的根目录，安装依赖的包：</p>
<pre><code>npm install
</code></pre></li>
<li><p>测试工程：<br> 执行如下命令：</p>
<pre><code>npm run dev
</code></pre><p> 启动一个express服务器，自动打开默认浏览器，会看到一个vue的欢迎页面，说明工程创建成功。</p>
</li>
<li><p>webpack构建过程介绍<br> 下面是webpack构建用到的配置文件的介绍</p>
<pre><code>my-proj
│  package.json                // 工程的npm配置文件
│  
├─build
│      build.js                // 构建产品版程序的启动文件
│      check-versions.js       // 检查node、npm以及依赖包的版本
│      dev-client.js           // 这个没研究是干啥的
│      dev-server.js           // 构建开发版程序，启动express服务器的启动文件
│      utils.js                // 提供一些处理目录等的工具函数
│      vue-loader.conf.js      // vue加载器的配置文件，没仔细研究
│      webpack.base.conf.js    // webpack的公共配置
│      webpack.dev.conf.js     // webpack的开发版配置，会包含base.conf.js
│      webpack.prod.conf.js    // webpack的产品版配置，会包含base.conf.js
│      webpack.test.conf.js    // webpack的测试版配置，会包含base.conf.js
│      
├─config
│      dev.env.js              // 开发版的环境变量配置
│      index.js                // 主配置文件，配置了构建的目录、项目的相对路径、静态文件子目录等，会在webpack.conf文件中引用
│      prod.env.js             // 产品版的环境变量配置
│      test.env.js             // 测试版的环境变量配置
│     
</code></pre><p>开发版的构建和启动流程</p>
<ol>
<li>执行 <code>npm run dev</code> 启动开发版构建；</li>
<li>npm调用node执行 build/dev-server.js(见package.json中scripts的配置)；</li>
<li>调用webpack，使用webpack.dev.conf.js配置进行构建；</li>
<li>构建好之后，根据config/index.js中配置的端口等启动express服务器；</li>
<li><p>调用默认浏览器，显示构建好的页面；</p>
<blockquote>
<p>注意：无论是express还是下边要讲的webpack-dev-server（应该也是express的一种），webpack构建出来的目录对他们来说都只有静态文件有用，程序文件如index.html、app.js都是直接在server的内存中的，不是直接使用构建目录下的文件。<br>以上是我个人的理解，例证就是：对于这里的express服务器，构建完成之后，就没有生成新的目录和文件。而对于webpack-dev-server，虽然生成了构建目录目录和文件，但是如果构建出来的js文件名是带hash值的，可以在Chrome浏览器的开发者工具中看到，页面加载的js的hash值，与构建目录下的js的hash值是不一样的。</p>
</blockquote>
</li>
</ol>
<p>产品版的构建流程</p>
<ol>
<li>执行 <code>npm run build</code>；</li>
<li>调用node执行 build/build.js；</li>
<li>引入rimraf组件，删除构建目录中的已有文件；</li>
<li>删除完成后，启动webpack使用webpack.prod.conf.js配置执行构建；</li>
</ol>
<blockquote>
<p>这里对webpack的配置和使用就不做详细说明了，如果不清楚的可以看我之前了解webpack时写的<a href="http://www.jianshu.com/p/cfa9e5240a23" target="_blank" rel="noopener">webpack资料总结</a>。</p>
</blockquote>
</li>
</ol>
<h2 id="引入Cesium库"><a href="#引入Cesium库" class="headerlink" title="引入Cesium库"></a>引入Cesium库</h2><p>在引入Cesium库的过程中，我们找到了以下几种方案，分别说明：</p>
<ol>
<li><p>Cesium开源版（org网站）的<a href="https://cesiumjs.org/tutorials/cesium-up-and-running/" target="_blank" rel="noopener">官方指导</a></p>
<p> 这个方案介绍的是在Cesium工程的基础上进行开发的流程，我们是想向vue工程中引入cesium，因此不太适用。</p>
<blockquote>
<p>当然如果想用传统方案，通过下载cesium整个包到工程目录中，然后在html里通 <code>&lt;script&gt;</code> <code>&lt;link&gt;</code> 来直接引用相关的js和css也是没有问题的。<br> 这里我们想用webpack进行包管理和自动化构建，因此不采用此方案。</p>
</blockquote>
</li>
<li><p><a href="https://www.npmjs.com/package/webpack-cesium" target="_blank" rel="noopener">webpack-cesium</a>,这个是后来找到的，还没使用，不做说明；</p>
</li>
<li><p>Cesium商用版（com网站）中找到的<a href="https://cesium.com/blog/2016/01/26/cesium-and-webpack/" target="_blank" rel="noopener">Cesium and webpack</a></p>
<p> 这里介绍的通过webpack引入cesium方案正是我们想要的。下面就详细介绍引入cesium的辛酸过程。。。。</p>
</li>
</ol>
<h3 id="安装Cesium包"><a href="#安装Cesium包" class="headerlink" title="安装Cesium包"></a>安装Cesium包</h3><p>官方文档里给的例子中，是下载Cesium包，然后拷贝到工程的lib目录中，我们当然不会这么老实。。。在<a href="https://www.npmjs.com/package/cesium" target="_blank" rel="noopener">这里</a>我们知道cesium是可以通过npm安装的，太好了！执行下面命令：</p>
<pre><code>npm install cesium -S
</code></pre><p>安装完成后，会在工程的node_modules中找到cesium文件夹，目录说明如下：</p>
<pre><code>├─Build                     // 预编译好的文件目录
│  ├─Cesium                 // 预编译且压缩的文件
│  └─CesiumUnminified       // 预编译未压缩的文件
└─Source                    // 源代码目录
</code></pre><h3 id="代码中引入"><a href="#代码中引入" class="headerlink" title="代码中引入"></a>代码中引入</h3><p>按照官方文档说明，在我们工程的vue地球组件中加入以下代码：</p>
<pre><code>window.CESIUM_BASE_URL = &apos;./static/Cesium&apos;;  // 构建好之后，我们要把Cesium的文件放在项目下的static/Cesium/文件夹中，因此要这样配置

// 注意：这里要用Source下的文件，原因下边有说明
let Cesium = require(&apos;../../node_modules/cesium/Source/Cesium.js&apos;);
require(&apos;../../node_modules/cesium/Source/Widgets/widgets.css&apos;);

// html元素，以及页面初始化viewer 不再列出
</code></pre><p>这里有三个地方与官方文档不一样：</p>
<ol>
<li><code>CESIUM_BASE_URL</code> 路径<br> 我们因为按照vue-cli创建的工程中，默认要把webpack构建的出来的项目种，静态文件要放在static二级目录下，所以要这样配置。</li>
<li><p>引用了Source下的文件<br> 官方文档里建议引用预编译好的文件，即Build下的Cesium或者CesiumUnminified，我们这里引用的是Source下的文件。<br> 因为如果引用Build下的文件，构建好的项目启动后，会在浏览器的控制台报出一个错误，导致页面不能显示：</p>
<pre><code>Uncaught Error: Cesium missing ThirdParty/pako_inflate
</code></pre><p> 解决方案就是换成Source下的文件，解决方案来源于 <a href="https://github.com/AnalyticalGraphicsInc/cesium/issues/5417" target="_blank" rel="noopener">这里</a> 的负一楼。</p>
</li>
<li>这里没有采用<code>let Cesium = window.Cesium</code> 的写法<br> 如果采用官方推荐的写法，当使用 <code>Cesium</code> 对象初始话地图的时候，页面中会报 <code>Cesium</code>对象undefined的问题。</li>
</ol>
<h3 id="启动开发服务器"><a href="#启动开发服务器" class="headerlink" title="启动开发服务器"></a>启动开发服务器</h3><p>此时，我们披荆斩棘，已经把代码写好了，该是启动服务器验证一下页面的时候了。启动开发服务器的命令：</p>
<pre><code>npm run dev 或者 npm start
</code></pre><h4 id="第一次出现的错误"><a href="#第一次出现的错误" class="headerlink" title="第一次出现的错误"></a>第一次出现的错误</h4><p>这时我们发现构建过程中报了一个错误：</p>
<pre><code>ERROR  Failed to compile with 1 errors

This dependency was not found:

* fs in ./~/cesium/Source/ThirdParty/crunch.js

To install it, you can run: npm install --save fs
</code></pre><p>在检查了package.json以及node_modules下文件夹后，我们确定是已经安装了fs包的。尽管如此，我们还是按照提示，再一次执行安装 <code>npm install -S fs</code> , 安装了之后再编译，还是报同样的错误。。。<br>只能google了，在 <a href="https://github.com/AnalyticalGraphicsInc/cesium/issues/4838" target="_blank" rel="noopener">这里</a> 找到了解决方法，我们修改工程中 <code>build/webpack.base.conf.js</code> 配置文件，代码如下：</p>
<pre><code>***
module: {
    ***
},
// 配置的最外层
externals: {
    &apos;fs&apos;: true,
}
</code></pre><blockquote>
<p>注意：这里要修改base配置文件，因为dev、prod、test的都会merge这个文件，只用改一处地方就可以了</p>
</blockquote>
<h4 id="第二次出现的错误"><a href="#第二次出现的错误" class="headerlink" title="第二次出现的错误"></a>第二次出现的错误</h4><p>重新启动开发服务器（<code>npm run dev</code>），构建没有报错，页面打开了，但是只有个黑黑的背景以及报错信息。f12打开Chrome的控制台，我们发现有几个相同的报错：</p>
<pre><code>Error: Cannot find module &quot;.&quot;
</code></pre><p>继续google，在 <a href="https://github.com/mmacaula/cesium-webpack/issues/4" target="_blank" rel="noopener">这里</a> 找到了解决方法。继续修改 <code>build/webpack.base.conf.js</code> 配置文件，代码如下：</p>
<pre><code>***
module: {
    rules: [
        ***
    ],
    ***,
    // module选项内
    unknownContextCritical: false,
    unknownContextRegExp: /^.\/.*$/
},
// 配置的最外层
externals: {
    &apos;fs&apos;: true,
}
</code></pre><h4 id="第三次出现的错误"><a href="#第三次出现的错误" class="headerlink" title="第三次出现的错误"></a>第三次出现的错误</h4><p>再次启动开发服务器（<code>npm run dev</code>），构建没有报错，页面打开了，出现了黑黑的地图背景，还有地图工具栏，但是等等，为什么有很多图片加载失败？<br>官方文档中其实已经说过了：像Cesium这么复杂的库，你想只通过 <code>require(&#39;Cesium&#39;)</code> 一句代码就引入到你的工程中去，那就图样图森破了。在代码中写的 <code>window.CESIUM_BASE_URL</code> 就是用来配置指向其他依赖的文件的根目录的。<br>既然想到了这个，那就有办法了，我们把编译好的Cesium依赖文件，拷贝到webpack构建的项目的指定目录下就行了吧，也就是指定给 <code>window.CESIUM_BASE_URL</code> 变量的目录。<br>但是还有个问题，我们发现执行完 <code>npm run dev</code> 后，webpack根本就没有生成配置文件定义的dist目录，猜测它是直接把构建好的文件扔到了express服务器的内存中去执行了，没有构建目录，我们往哪儿拷贝，怎么让express服务器知道Cesium依赖的静态文件在哪儿？研究了半天，答案是 <strong>没办法</strong> ，我也很无奈啊！</p>
<h4 id="用tomcat验证方案"><a href="#用tomcat验证方案" class="headerlink" title="用tomcat验证方案"></a>用tomcat验证方案</h4><p>我们可以换个思路，但是首先我们想验证下我之前想到的Cesium依赖文件的想法是否是正确的，我是这样验证的：</p>
<ol>
<li>用 <code>npm run build</code> 执行产品级的构建，在工程下构建出了 <em>dist</em> 目录；</li>
<li>从 <em>node_modules/cesium/Build</em> 中，拷贝Cesium目录到 <em>dist</em> 目录下, 你可以可以拷贝未压缩的，或者Source下的，应该都可以；</li>
<li>拷贝 <em>dist</em> 目录到 <em>tomcat/webapps/</em> 中；</li>
<li>启动tomcat，打开 <a href="http://localhost:8080/dist" target="_blank" rel="noopener">http://localhost:8080/dist</a> 来查看；</li>
</ol>
<p>这个时候我们发现，页面会报js路径找不到，原因是js路径不对，变成 <a href="http://localhost:8080/static/js/xxx.js" target="_blank" rel="noopener">http://localhost:8080/static/js/xxx.js</a> 了，发现是 <em>dist</em> 那层被吃了。。。这肯定构建的路径有问题（可以打开看构建好的index.html的源代码，js的引用都是src=”/static/js/xxxxx.js”，这样就是从tomcat的web根目录来找了）。<br>我们发现webpack配置中的output引用的是 <em>config/index.js</em> 中build的assetsPublicPath属性，这里赫然配置着 <code>&quot;/&quot;</code> ， 改成 <code>&quot;./&quot;</code> , 然后重新执行上述步骤， 哈哈，成功啦！</p>
<h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h3><p>如果每次修改一段代码想看下效果，都得手工构建，然后重新部署到tomcat中看，我就问你烦不烦？<br>一般人儿都烦，如果你骨骼惊奇，想法奇特，就当我没说，全文到此over。。。<br>下面的内容是给一般人看的：</p>
<h4 id="安装webpack-dev-server"><a href="#安装webpack-dev-server" class="headerlink" title="安装webpack-dev-server"></a>安装webpack-dev-server</h4><pre><code>npm install -D webpack-dev-server
</code></pre><h4 id="添加配置文件"><a href="#添加配置文件" class="headerlink" title="添加配置文件"></a>添加配置文件</h4><p>可以有几种方案：</p>
<ul>
<li>直接修改 <em>build/webpack.dev.conf.js</em> ，增加server配置，然后在package.json中配置启动server命令时，指定为该配置文件<br>这个比较简单，但是配置的server启动命令会比较长。。。</li>
<li>模仿dev-server.js，用server的api接口来启动server<br>这个需要学习webpack-dev-server的api接口，比较麻烦，但是后续想增加功能时，更灵活</li>
<li>与第一个方案类似，将 <em>build/webpack.dev.conf.js</em> 拷贝到工程根目录，改名，然后加server的配置<br>这个是webpack-dev-server的默认方式，server会默认查找工程根目录下的webpack.config.js, webpack本身启动时，也是找个名称的配置文件的，所以一定要把文件名称改对了。</li>
</ul>
<p>我们项目就是一个小页面，所以采用最后一个方案。</p>
<blockquote>
<p>其他方案也都类似, 这里不再赘述。</p>
</blockquote>
<h4 id="配置webpack-config-js"><a href="#配置webpack-config-js" class="headerlink" title="配置webpack.config.js"></a>配置webpack.config.js</h4><ol>
<li>将 <em>build/webpack.dev.conf.js</em> 拷贝到工程根目录，改名为 webpack.config.js；</li>
<li><p>增加server配置</p>
<pre><code>module: {
    ***
},
***,
devServer: {
    contentBase: config.dev.assetsRoot,  // 代理的文件目录，直接使用构建的目录           
    port: config.dev.port,    // 服务端口
    historyApiFallback: true, // 不跳转
    inline: true,             // 实时刷新
    hot: true,                // 热加载
},
</code></pre></li>
<li><p>虚拟项目名称</p>
<p> 这个如果要用webpack-dev-server的热加载实时刷新功能（hmr，通俗讲就是启动服务器后，你一修改代码保存后，页面自动刷新，体现出你的修改，爽不？），就不能配置为 <code>/</code> 或者 <code>./</code>, 必须给个字符串，比如我们这里的 <code>assets</code> , 我也不知道为什么，网上就这么说，实践也确实是这样。。。<br> 具体的配置，有两种方式：</p>
<ul>
<li><p>webpack.config.js</p>
<pre><code>output: {
    path: config.dev.assetsRoot,
    publicPath: &apos;assets&apos;, // webpack-dev-server的hmr必须指定一个代理目录
},
</code></pre></li>
<li><p>config/index.js</p>
<pre><code>dev: {
    ***,
    assetsPublicPath: &apos;assets&apos;, // 默认的是&apos;/&apos;
    ***
}
</code></pre><p>这里我们采用第一种方式，不修改config下的默认配置，使用自定义的配置来覆盖默认的。</p>
</li>
</ul>
</li>
<li><p>自动拷贝静态文件配置</p>
<p> 还记得上边步骤中，需要把Cesium的依赖文件拷贝到webpack构建的目录中吗？这里webpack可以在构建阶段帮你做。需要安装 <code>copy-webpack-plugin</code> 插件:</p>
<pre><code>npm install -D CopyWebpackPlugin
</code></pre><p> 在webpack.config.js中引入插件：</p>
<pre><code>const CopyWebpackPlugin = require(&apos;copy-webpack-plugin&apos;); 
***
plugins: [
    ***,
    // copy custom static assets
    new CopyWebpackPlugin([{
        from: path.resolve(__dirname, &apos;./static&apos;),
        to: config.build.assetsSubDirectory,
        ignore: [&apos;.*&apos;],
    }]),
],
</code></pre><p> 从 <em>/my-proj/node_modules/cesium/Build</em> 中，拷贝Cesium目录到 <em>/my-proj/static</em> 目录下, ，并将这个目录加入版本管理工具。</p>
<blockquote>
<p>这个拷贝在webpack.prod.conf.js是默认有的，因此不用再给其配置。</p>
</blockquote>
</li>
<li><p>配置启动命令<br>在package.json中，加入如下配置：</p>
<pre><code>&quot;scripts&quot;: {
    ***,
    &quot;webpack&quot;: &quot;webpack&quot;,
    &quot;server&quot;: &quot;webpack-dev-server --open&quot;,
    &quot;start&quot;: &quot;webpack &amp;&amp; webpack-dev-server --open&quot;
},
</code></pre></li>
<li><p>开发环境测试</p>
<pre><code>npm start
</code></pre><p> 构建成功。。。<br> 服务器启动成功。。。<br> 浏览器自动打开。。。<br> 页面显示正确。。。。</p>
</li>
</ol>
<p>以上，大功告成！！！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2017/09/18/sublime的自动注释配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/18/sublime的自动注释配置/" itemprop="url">sublime的自动注释配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-18T15:14:43Z">
                2017-09-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为了在sublime编辑器中能通过快捷键自动为js文件、类、函数等添加符合jsdoc规范的注释，需要安装的相关的插件，并进行自定义的配置。现将安装和配置的过程记录如下，以备不时之需。</p>
<h2 id="文件头注释"><a href="#文件头注释" class="headerlink" title="文件头注释"></a>文件头注释</h2><p>由于sublime的DocBlockr插件只支持对函数、变量的快捷注释，不能增加文件头注释，因此需要安装File header插件。</p>
<h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><p>sumlime安装插件的方式：</p>
<blockquote>
<ol>
<li>ctrl+shift+p组合键，或 prefences &gt; package control 者打开包管理窗口</li>
<li>输入 install package打开包安装窗口</li>
<li>输入 file header进行包搜索</li>
<li>选中fileheader插件启动安装</li>
</ol>
</blockquote>
<h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><ol>
<li>在sublime菜单栏，点击 prefences &gt; browse packages 打开包目录</li>
<li>打开FileHeader &gt; template &gt; header 文件夹</li>
<li><p>找到javascript.tmpl文件，添加如下内容：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* [Description]</span></span><br><span class="line"><span class="comment">* @file       &#123;&#123;file_name&#125;&#125;</span></span><br><span class="line"><span class="comment">* @author     xxxx</span></span><br><span class="line"><span class="comment">* @date       &#123;&#123;create_time&#125;&#125;</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* @copyright: @Navinfo, all rights reserved.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：模版最后要加入三个空行，这样在js文件中插入此注释后才会加入一个空行</p>
</blockquote>
</li>
</ol>
<h3 id="插件的使用"><a href="#插件的使用" class="headerlink" title="插件的使用"></a>插件的使用</h3><p>可以在sublime的菜单 prefences &gt; package settings &gt; File Header &gt; key bingding-Default中，修改该插件的快捷键。你当然也可以直接用默认的。<br>这里我们将command ‘file_header_add_header’ 的快捷键修改为 ‘ctrl+alt+h’。<br>这样，在打开一个js文件后，按’ctrl+alt+h’组合键会打开为当前文件添加文件头注释的窗口，按enter即可完成文件头注释的插入。</p>
<h2 id="函数注释"><a href="#函数注释" class="headerlink" title="函数注释"></a>函数注释</h2><h3 id="安装插件-1"><a href="#安装插件-1" class="headerlink" title="安装插件"></a>安装插件</h3><p>安装sublime的DocBlockr插件，安装方法参考上一节</p>
<h3 id="修改配置-1"><a href="#修改配置-1" class="headerlink" title="修改配置"></a>修改配置</h3><p>在sumlime菜单栏，打开 prefences &gt; package settings &gt; DocBlockr &gt; settings-user，打开用户配置文件，增加以下配置：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"jsdocs_extra_tags"</span>: [<span class="string">"@author XXXX"</span>, <span class="string">"@date &#123;&#123;date&#125;&#125;"</span>],</span><br><span class="line">    <span class="attr">"jsdocs_notation_map"</span>: [&#123;</span><br><span class="line">        <span class="attr">"prefix"</span>: <span class="string">"_"</span>,</span><br><span class="line">        <span class="attr">"tags"</span>: [<span class="string">"@private"</span>]</span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="attr">"jsdocs_autoadd_method_tag"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>配置的详细说明可参考README文件：prefences &gt; package settings &gt; DocBlockr &gt; README</p>
</blockquote>
<h3 id="插件的使用-1"><a href="#插件的使用-1" class="headerlink" title="插件的使用"></a>插件的使用</h3><p>在需要增加注释的函数/变量定义的上一行，输入 <code>/**</code> ，然后按 <code>Enter</code> 键，即可添加默认的注释信息。<br>需要手工补充<em>函数</em>、<em>参数</em>和<em>返回值</em>的数<strong>据类型</strong>和<strong>描述</strong>。</p>
<h2 id="批量增加函数注释"><a href="#批量增加函数注释" class="headerlink" title="批量增加函数注释"></a>批量增加函数注释</h2><p>smartcomments是一个nodejs写的给文件的所有函数增加注释的工具，详细的说明可参考 <a href="http://smartcomments.github.io/" target="_blank" rel="noopener">smartcomment主页</a> 和 <a href="https://github.com/smartcomments/smartcomments" target="_blank" rel="noopener">github地址</a></p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre><code>npm install -g smartcomments
</code></pre><h3 id="自定义配置"><a href="#自定义配置" class="headerlink" title="自定义配置"></a>自定义配置</h3><p>默认的配置只支持4个@tag，不满足我们的注释需求，因此需要自定义。可以在需要批量加注释的项目下新建两个文件，smartcomments.json和templates.js，这里就不再做过多说明，直接贴出代码：</p>
<ul>
<li><p>smartcomments.json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"target_dir"</span>: [</span><br><span class="line">        <span class="string">""</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"match_files"</span>: [</span><br><span class="line">        <span class="string">"^((?!~).)*.(js)$"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"backup"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"private"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"favor_generated"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"tags"</span>: &#123;</span><br><span class="line">        <span class="attr">"function"</span>: &#123;</span><br><span class="line">            <span class="attr">"name"</span>: &#123;&#125;,</span><br><span class="line">            <span class="attr">"desc"</span>: &#123;</span><br><span class="line">                // 函数的默认描述</span><br><span class="line">                "value": "[Auto generated description]"</span><br><span class="line">            &#125;,</span><br><span class="line">            "author": &#123;</span><br><span class="line">                // 要指定的作者名字</span><br><span class="line">                "value": "XXXX"</span><br><span class="line">            &#125;,</span><br><span class="line">            "date": &#123;&#125;,</span><br><span class="line">            "params": &#123;&#125;,</span><br><span class="line">            "rtrn": &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 这里指向自定义的模版文件，要给出绝对地址，否则找不到</span><br><span class="line">    "template": "E:\\xxxx\\template.js"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>template.js<br>  可以从smartcomments的<a href="https://github.com/smartcomments/smartcomments/blob/master/templates/default.js" target="_blank" rel="noopener">github库</a>中看到默认的default.js，拷贝一份命名为template.js，然后修改其中的 buildComment 函数即可，修改后的代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">buildComment: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> instance = templateInstance,                  <span class="comment">// BaseTemplate instance</span></span><br><span class="line">        config = instance.config,                      <span class="comment">// User current config</span></span><br><span class="line">        options = config.tags.function,      <span class="comment">// Custom functions tags options</span></span><br><span class="line">        pos,                                           <span class="comment">// Empty comment obj</span></span><br><span class="line">        comment = &#123;</span><br><span class="line">            pos: data.pos,</span><br><span class="line">            tags: []</span><br><span class="line">        &#125;,</span><br><span class="line">        methodName = data.name,</span><br><span class="line">        node = data.node;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> (config.private) === <span class="string">'undefined'</span></span><br><span class="line">        || config.private</span><br><span class="line">        || !<span class="regexp">/^_/</span>.test(methodName)) &#123;</span><br><span class="line">        <span class="comment">// Description statement</span></span><br><span class="line">        <span class="keyword">if</span> (options.desc) &#123;</span><br><span class="line">            comment.tags.push(&#123;</span><br><span class="line">                name: <span class="string">''</span>,</span><br><span class="line">                value: options.desc.value || <span class="string">'Function description'</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// @method statement</span></span><br><span class="line">        <span class="keyword">if</span> (methodName &amp;&amp; options.name) &#123;</span><br><span class="line">            comment.tags.push(&#123;</span><br><span class="line">                name: <span class="string">'@method'</span>,</span><br><span class="line">                value: methodName</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 增加作者tag</span></span><br><span class="line">        <span class="comment">// Author statement</span></span><br><span class="line">        <span class="keyword">if</span> (options.author) &#123;</span><br><span class="line">            comment.tags.push(&#123;</span><br><span class="line">                name: <span class="string">'@author'</span>,</span><br><span class="line">                value: options.author.value || <span class="string">'XXX'</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 增加日期tag</span></span><br><span class="line">        <span class="comment">// Date statement</span></span><br><span class="line">        <span class="keyword">if</span> (options.date) &#123;</span><br><span class="line">            comment.tags.push(&#123;</span><br><span class="line">                name: <span class="string">'@date'</span>,</span><br><span class="line">                value: <span class="string">'  '</span> + (options.date.value || <span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleDateString())</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> size,</span><br><span class="line">            i = <span class="number">0</span>,</span><br><span class="line">            value;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// @param statement</span></span><br><span class="line">        <span class="keyword">if</span> (options.params) &#123;</span><br><span class="line">            <span class="keyword">var</span> array = node.params;</span><br><span class="line">            size = array.length;</span><br><span class="line">            <span class="keyword">for</span> (i; i &lt; size; i++) &#123;</span><br><span class="line">                value = <span class="string">' &#123;[type]&#125; '</span> + array[i].name + <span class="string">' [description]'</span>;</span><br><span class="line">                comment.tags.push(&#123;</span><br><span class="line">                    name: <span class="string">'@param'</span>,</span><br><span class="line">                    value: value</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// @return statement</span></span><br><span class="line">        <span class="keyword">if</span> (options.rtrn) &#123;</span><br><span class="line">            <span class="keyword">var</span> elements = node.body.body;</span><br><span class="line">            <span class="keyword">if</span> (elements) &#123;</span><br><span class="line">                size = elements.length;</span><br><span class="line">                value = <span class="string">''</span>;</span><br><span class="line">                <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (elements[i].type === <span class="string">'ReturnStatement'</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (elements[i].argument) &#123;</span><br><span class="line">                            value = <span class="string">'&#123;[type]&#125; [description]'</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (!value) &#123;</span><br><span class="line">                    value = <span class="string">'&#123;Undefined&#125; 无返回值'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                comment.tags.push(&#123;</span><br><span class="line">                    name: <span class="string">'@return'</span>,</span><br><span class="line">                    value: value</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (comment.pos &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// Add comment to comment_list</span></span><br><span class="line">            instance.comments_list.push(comment);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="修改smartcomments源代码"><a href="#修改smartcomments源代码" class="headerlink" title="修改smartcomments源代码"></a>修改smartcomments源代码</h3><p>最重要的部分来了。不得不吐槽一下smartcomments的源代码，真的代码烂烂，bug多多。。。<br>由于smartcomments是用npm全局安装的，这里就需要修改全局包中的代码。查看npm全局包安装目录的命令：</p>
<pre><code>npm config get prefix
</code></pre><p>然后修改[prefix]\node_modules\smartcomments\lib\smartcomments.js文件。修改的内容比较多，就不一一说明了，主要修改了4个函数，直接上代码：</p>
<blockquote>
<p>修改之前备份一下是个好习惯</p>
</blockquote>
<ol>
<li><p>mergeSrcAndGeneratedComment</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">mergeSrcAndGeneratedComment: <span class="function"><span class="keyword">function</span> (<span class="params">instance, generatedComment, favorGenerated</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> srcComment = generatedComment.srcComment,</span><br><span class="line">        mergedCommentLines = [];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// process each src comment line, and remove matching comments from generatedComment</span></span><br><span class="line">    <span class="keyword">var</span> srcCommentTags = _.map(srcComment.value.split(<span class="regexp">/\r?\n/</span>), <span class="function"><span class="keyword">function</span> (<span class="params">commentLine</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance.parseTagNameValue(commentLine);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    _.each(generatedComment.tags, <span class="function"><span class="keyword">function</span> (<span class="params">tag</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (favorGenerated) &#123;</span><br><span class="line">            mergedCommentLines.push(tag);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> srcTag;</span><br><span class="line">            <span class="keyword">var</span> f = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">var</span> desc = [];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; srcCommentTags.length; i++) &#123;</span><br><span class="line">                srcTag = srcCommentTags[i];</span><br><span class="line">                <span class="keyword">if</span> (tag.name === <span class="string">''</span> &amp;&amp; (srcTag.name === <span class="string">''</span> || srcTag.name === <span class="string">'@description'</span>)) &#123;</span><br><span class="line">                    desc.push(srcTag.value);</span><br><span class="line">                    f = <span class="literal">true</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (srcTag.name === tag.name) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (tag.name === <span class="string">'@param'</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (instance.isSameParam(srcTag.value, tag.value)) &#123;</span><br><span class="line">                            f = <span class="literal">true</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        f = <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!f) &#123;</span><br><span class="line">                mergedCommentLines.push(tag);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (tag.name === <span class="string">''</span>) &#123;</span><br><span class="line">                    tag.value = desc.join(<span class="string">''</span>);</span><br><span class="line">                    mergedCommentLines.push(tag);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    mergedCommentLines.push(srcTag);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    instance.mergeOtherSrcTags(srcCommentTags, mergedCommentLines);</span><br><span class="line">    generatedComment.tags = mergedCommentLines;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>parseTagNameValue</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">parseTagNameValue: <span class="function"><span class="keyword">function</span> (<span class="params">commentLine</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> clean = commentLine.replace(<span class="regexp">/^\s*\*?\s?/</span>, <span class="string">''</span>); <span class="comment">// strip leading ' * '</span></span><br><span class="line">    <span class="keyword">var</span> nameValueMatch = <span class="regexp">/^(?:(@\w+))?([^\r\n]*)/</span>.exec(clean);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name: nameValueMatch[<span class="number">1</span>] || <span class="string">''</span>,</span><br><span class="line">        value: nameValueMatch[<span class="number">2</span>] || <span class="string">''</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>isSameParam</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">isSameParam: <span class="function"><span class="keyword">function</span> (<span class="params">srcValue, genValue</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> stripTypeRe = <span class="regexp">/\S*\s*\&#123;\[?[\w:-]*\]?\&#125;\s*/</span>,</span><br><span class="line">        matchValRe = <span class="regexp">/^[\w:-]+/</span>;</span><br><span class="line">    srcValue = srcValue.replace(stripTypeRe, <span class="string">''</span>);</span><br><span class="line">    genValue = genValue.replace(stripTypeRe, <span class="string">''</span>);</span><br><span class="line">    srcValue = matchValRe.exec(srcValue);</span><br><span class="line">    genValue = matchValRe.exec(genValue);</span><br><span class="line">    <span class="keyword">if</span> (srcValue &amp;&amp; genValue) &#123;</span><br><span class="line">        srcValue = srcValue[<span class="number">0</span>];</span><br><span class="line">        genValue = genValue[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (srcValue) &#123;</span><br><span class="line">            <span class="keyword">return</span> (genValue &amp;&amp; srcValue === genValue);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> !genValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>mergeOtherSrcTags</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mergeOtherSrcTags: <span class="function"><span class="keyword">function</span> (<span class="params">srcCommentTags, mergedCommentLines</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> k;</span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; mergedCommentLines.length &amp;&amp; mergedCommentLines[k].name !== <span class="string">'@method'</span>; k++);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> temp = mergedCommentLines.slice();</span><br><span class="line"></span><br><span class="line">    _.each(srcCommentTags, <span class="function"><span class="keyword">function</span> (<span class="params">srcTag</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> f = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; temp.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (srcTag.name === temp[i].name || (srcTag.name === <span class="string">'@description'</span> &amp;&amp; temp[i].name === <span class="string">''</span>)) &#123;</span><br><span class="line">                f = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!f) &#123;</span><br><span class="line">            mergedCommentLines.splice(k++, <span class="number">0</span>, srcTag);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="smartcomments的使用"><a href="#smartcomments的使用" class="headerlink" title="smartcomments的使用"></a>smartcomments的使用</h3><ol>
<li><p>使用默认配置</p>
<pre><code>smartcomments --generate
</code></pre><blockquote>
<p>注意：会对执行此命令的目录下所有js文件增加函数注释，会递归遍历所有子目录</p>
</blockquote>
</li>
<li><p>使用自定义配置</p>
<pre><code>smartcomments --generate -c ./comments/smartcomments.json
</code></pre><blockquote>
<p>如果把自定义配置文件放置在执行此命令的目录下，并命名为smartcomments.json时，则可以不用指定-c参数，程序会自动识别；如果在配置文件在其他目录，则需要指定</p>
</blockquote>
</li>
<li><p>指定要增加注释的文件/目录</p>
<pre><code>smartcomments --generate -c ./comments/smartcomments.json -t ./apps/editorCtrl.js
</code></pre><blockquote>
<p>可以指定文件，也可以指定目录</p>
</blockquote>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2017/09/11/Javascript注释规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/11/Javascript注释规范/" itemprop="url">Javascript注释规范</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-11T14:04:49Z">
                2017-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>为了规范工作中的代码注释，使得代码注释符合JsDoC规范，从而可以自动生成Api文档，特制定本规范。本规范主要包含以下几个方面的规定：</p>
<ul>
<li>文件注释</li>
<li>类注释</li>
<li>函数注释</li>
<li>公共变量的注释</li>
</ul>
<h1 id="文件注释-（必须有）"><a href="#文件注释-（必须有）" class="headerlink" title="文件注释 （必须有）"></a>文件注释 （必须有）</h1><p>文件注释主要用于对无明确的类结构的文件的注释，比如只有一个大对象定义的文件（如Application.js）、多个全局函数定义的文件（util.js）、Angular的各种对象文件（route、controller、directive、service等）。注释规范如下：</p>
<ul>
<li><p>常规文件</p>
<pre><code>/**
 * 定义web app全局命名空间，并在此空间下定义属性和函数，以便全局使用
 * -author    ChenXiao
 * -date      2017-09-11
 *
 * -copyright @Navinfo, all rights reserved.
 */

var App = {};
// web app全局配置信息
App.Config = {
    appName: &apos;FM-WebEditor&apos;,
</code></pre></li>
<li><p>Angular controller</p>
<pre><code>/**
 * 编辑页面的主controller
 * -author ChenXiao
 * -date   2017-09-11
 *
 * -copyright @Navinfo, all rights reserved.
 */

angular.module(&apos;app&apos;).controller(&apos;editorCtrl&apos;, [&apos;$scope&apos;, &apos;$rootScope&apos;, &apos;$cookies&apos;, &apos;$timeout&apos;, &apos;$q&apos;,
    &apos;$ocLazyLoad&apos;, &apos;ngDialog&apos;,
    &apos;appPath&apos;, &apos;dsMeta&apos;, &apos;dsFcc&apos;, &apos;dsEdit&apos;, &apos;dsManage&apos;, &apos;dsColumn&apos;, &apos;dsLazyload&apos;,
    function ($scope, $rootScope, $cookies, $timeout, $q, $ocLazyLoad, ngDialog,
        appPath, dsMeta, dsFcc, dsEdit, dsManage, dsColumn, dsLazyload) {
        if (!$scope.testLogin()) {
            return;
        }
</code></pre>  <div class="note danger"><p>注释与controller之间必须要有个空行，否则jsdoc会把controller当成函数注释，导致jsdoc报错。</p></div>
</li>
</ul>
<blockquote>
<p>建议所有的文件头注释与代码之间要加一个空行。</p>
</blockquote>
<h1 id="类注释-（必须有，可以替代文件注释）"><a href="#类注释-（必须有，可以替代文件注释）" class="headerlink" title="类注释 （必须有，可以替代文件注释）"></a>类注释 （必须有，可以替代文件注释）</h1><p>类注释主要用于符合类结构的文件的注释，比如通过L.Class创建的模拟类的文件（mapRender、dataApi、uikit下的文件）。由于代码中基本上达到了一个类一个文件的结构，因此可以用类注释替代文件注释。注释的规范如下：</p>
<pre><code>/**
 * 交限的前端数据模型
 * -author ChenXiao
 * -date   2017-09-11
 *
 * -copyright @Navinfo, all rights reserved.
 */
FM.dataApi.RdRestrictionDetail = FM.dataApi.Feature.extend({
    /**
     * 模型转换主函数，将接口返回的数据转换为前端数据模型
     * -author ChenXiao
     * -date   2017-09-11
     * @param  {object} data 接口返回的数据
     * @return {undefined}
     */
    setAttributes: function (data) {
        this.geoLiveType = &apos;RDRESTRICTIONDETAIL&apos;;
        this.pid = data.pid || 0;
        this.restricPid = data.restricPid || 0;
        this.outLinkPid = data.outLinkPid || 0;
</code></pre><h1 id="函数注释-（必须有）"><a href="#函数注释-（必须有）" class="headerlink" title="函数注释 （必须有）"></a>函数注释 （必须有）</h1><p>所有的函数都必须加此注释，要完全符合jsdoc规范。后续会把eslint打开，不符合要求的不予合并。注释规范如下：</p>
<ul>
<li><p>一般情况</p>
<pre><code>/**
 * 根据的窗口的选项，创建弹出窗口对象
 * -author ChenXiao
 * -date   2017-09-11
 * @param  {object} data 窗口选项，主要为要显示的信息类型
 * @return {object} 包含窗口标题、页面片段的信息的窗口对象
 */
var createDialog = function (data) {
    var item = {};
    var tmplFile = FM.uikit.Config.getUtilityTemplate(data.type);
    item.title = FM.uikit.Config.getUtilityName(data.type);
    item.ctrl = appPath.scripts + tmplFile.ctrl;
    item.tmpl = appPath.scripts + tmplFile.tmpl;
    item.options = FM.Util.clone(defaultDialogOptions);
    getDlgOptions(data.type, item.options);

    return item;
};
</code></pre></li>
<li><p>无返回值的情况</p>
<pre><code>/**
 * 模型转换主函数，将接口返回的数据转换为前端数据模型
 * -author ChenXiao
 * -date   2017-09-11
 * @param  {object} data 接口返回的数据
 * @return {undefined}
 */
setAttributes: function (data) {
    this.geoLiveType = &apos;RDRESTRICTIONDETAIL&apos;;
    this.pid = data.pid || 0;
    this.restricPid = data.restricPid || 0;
    this.outLinkPid = data.outLinkPid || 0;
</code></pre><blockquote>
<p>函数注释中，jsdoc要求必须有@return，因此无返回值时, return的类型要写为undefined。</p>
</blockquote>
</li>
<li><p>无参数有返回值</p>
<pre><code>/**
 * 将前端数据模型还原为接口数据模型
 * -author ChenXiao
 * -date   2017-09-11
 * @return {Object} 接口数据模型
 */
 getIntegrate: function () {
     var data = {};
     data.pid = this.pid;
</code></pre><h1 id="公共变量的注释"><a href="#公共变量的注释" class="headerlink" title="公共变量的注释"></a>公共变量的注释</h1><p>公共变量我们分为三种，一种是全局变量（window下的），一种是类中的全局变量（如controller中），这两种必须加注释，第三种就是除了前两种之外的其他情况（比如一个函数中定义了多个内部函数，共享一变量），这种加不加注释可以视情况而定。注释规范如下：</p>
</li>
<li><p>单行注释</p>
<pre><code>// 右侧面板是否开启标识
$scope.rightPanelFlag = false;
// 右侧浮动面板是否开启标识
$scope.rightFloatPanelFlag = false;
// 所有其他的右侧浮动面板
$scope.mapToolbarPanelFlag = false;
$scope.clmPanelOpened = false;
</code></pre></li>
<li><p>多行注释</p>
<pre><code>/* 右侧面板总控标识, 右侧面板对于页面的布局很重要，
加一个总控有可能在子页面种打开/关闭右侧面板 */
$scope.rightPanelOpened = false;

// 将页面loading动画的开关引用赋给dsEdit的本地变量，以便在dsEdit中进行控制
// 注意：这里利用了对象引用的特性，变量必须是个对象，不能是字符串、bool、数字等
$scope.loading = {
    flag: false
};
</code></pre></li>
</ul>
<h1 id="IDE中安装jsdoc辅助工具"><a href="#IDE中安装jsdoc辅助工具" class="headerlink" title="IDE中安装jsdoc辅助工具"></a>IDE中安装jsdoc辅助工具</h1><ul>
<li>sublime<br>安装docBlockr<br>安装fileHeader</li>
<li>webstorm<br>请补充</li>
<li>vscode<br>请补充</li>
</ul>
<h1 id="jsdoc生成器"><a href="#jsdoc生成器" class="headerlink" title="jsdoc生成器"></a>jsdoc生成器</h1><ul>
<li>npm安装<pre><code>npm install -g jsdoc
</code></pre>参考<a href="https://www.npmjs.com/package/jsdoc" target="_blank" rel="noopener">npm jsdoc</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2017/09/09/Web组工作安排/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/09/Web组工作安排/" itemprop="url">Web组工作安排</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-08T17:03:39Z">
                2017-09-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="17年下半年的主要任务"><a href="#17年下半年的主要任务" class="headerlink" title="17年下半年的主要任务"></a>17年下半年的主要任务</h1><ol>
<li>WebApp代码加注释</li>
<li>mapApi的代码、注释改善，对外开放api</li>
<li>日编平台</li>
<li>月编平台</li>
<li>代理店平台</li>
<li>元数据平台</li>
<li>代码的es6重构</li>
<li>产品、代码改善</li>
<li>课题研究</li>
<li>新技术的学习</li>
</ol>
<h1 id="工作安排"><a href="#工作安排" class="headerlink" title="工作安排"></a>工作安排</h1><h3 id="WebApp代码加注释"><a href="#WebApp代码加注释" class="headerlink" title="WebApp代码加注释"></a>WebApp代码加注释</h3><ul>
<li>参与人：全组</li>
<li>时间：9.11-9.15，一周时间<blockquote>
<p>由cx给出样例，主要包含<strong><em>文件头注释</em></strong>、<strong><em>类注释</em></strong>、<strong><em>函数注释</em></strong>三种，文件头注释我们自定义，其他两种注释要完全符合jsdoc规范，以便后期自动生成文档</p>
</blockquote>
</li>
</ul>
<h3 id="MapApi的代码、注释改善"><a href="#MapApi的代码、注释改善" class="headerlink" title="MapApi的代码、注释改善"></a>MapApi的代码、注释改善</h3><ul>
<li>参与人： ll</li>
<li>时间：9.11-9.15，先按一周来算，可能不够<blockquote>
<p>主要目标是加深对mapApi原理、结构和代码的理解，可以先边读代码，边加注释，先理解，然后才能维护和改善。注释的方式参考前一节。</p>
</blockquote>
</li>
</ul>
<h3 id="日编平台"><a href="#日编平台" class="headerlink" title="日编平台"></a>日编平台</h3><ul>
<li>参与人： ll,wmd,lz</li>
<li>时间：长期<blockquote>
<p>主要负责日编的维护和新功能开发，ll主参与，md和lz部分参与</p>
</blockquote>
</li>
</ul>
<h3 id="月编平台"><a href="#月编平台" class="headerlink" title="月编平台"></a>月编平台</h3><ul>
<li>参与人：wz,ml,lz,wmd</li>
<li>时间：长期<blockquote>
<p>由wz带队开发，ml主参与，lz和md部分参与</p>
</blockquote>
</li>
</ul>
<h3 id="代理店平台"><a href="#代理店平台" class="headerlink" title="代理店平台"></a>代理店平台</h3><ul>
<li>参与人：wz,随机</li>
<li>时间：长期<blockquote>
<p>wz主负责，视任务情况随机安排其他人参</p>
</blockquote>
</li>
</ul>
<h3 id="元数据平台"><a href="#元数据平台" class="headerlink" title="元数据平台"></a>元数据平台</h3><ul>
<li>参与人：ml，随机</li>
<li>时间：长期<blockquote>
<p>ml主负责，视任务情况随机安排其他人参</p>
</blockquote>
</li>
</ul>
<h3 id="代码的es6重构"><a href="#代码的es6重构" class="headerlink" title="代码的es6重构"></a>代码的es6重构</h3><p>对代码进行es6语法的改写，用Class、module等对底层代码进行重构，方便以后更好的调用。先从dataApi、mapRender开始。</p>
<ul>
<li>参与人： 全组</li>
<li>时间：915之后，预计用时2周<blockquote>
<p>cx先确定一个重构方案，确定类的写法、类的继承关系的实现等等</p>
</blockquote>
</li>
</ul>
<h3 id="产品、代码改善"><a href="#产品、代码改善" class="headerlink" title="产品、代码改善"></a>产品、代码改善</h3><ul>
<li>产品功能以及代码改善<ul>
<li>定期对目前所有实现的内容进行review，包括功能、代码、注释，发现问题改善问题，争取用一段时间把所有功能过一遍</li>
</ul>
</li>
<li>地图渲染优化<ul>
<li>短期：优化细节渲染函数，不断调优</li>
<li>长期：考虑webGL整体替换</li>
</ul>
</li>
<li><p>界面加载优化</p>
<ul>
<li>短期：合并相关JS和css代码，合并图标</li>
<li>长期：考虑相关代码改动频率，适时调整缓存策略</li>
</ul>
</li>
<li><p>参与人： 全组</p>
</li>
</ul>
<h3 id="课题研究"><a href="#课题研究" class="headerlink" title="课题研究"></a>课题研究</h3><p>目前想到的有以下两个课题</p>
<ol>
<li>地图的加载渲染方式</li>
<li>地图渲染压盖，要素内部、要素之间的</li>
</ol>
<ul>
<li>参与人：cx，其他人感兴趣可参与</li>
<li>时间：17年底</li>
</ul>
<h3 id="新技术学习"><a href="#新技术学习" class="headerlink" title="新技术学习"></a>新技术学习</h3><ul>
<li>webgl,mapboxgl    –必须学</li>
<li>vue</li>
<li>react, react-native</li>
<li>app开发</li>
<li>服务端程序开发，java/python/nodejs？</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://madshawn.github.io/2017/09/06/first-page/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MadShawn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MadShawn's Pages">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/06/first-page/" itemprop="url">Hexo入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-05T17:44:22Z">
                2017-09-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="搭建此Blog用到的网站："><a href="#搭建此Blog用到的网站：" class="headerlink" title="搭建此Blog用到的网站："></a>搭建此Blog用到的网站：</h2><p>Hexo文档<br><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/</a><br>主题-next<br><a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">http://theme-next.iissnan.com/getting-started.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <p class="site-author-name" itemprop="name">MadShawn</p>
            <p class="site-description motion-element" itemprop="description">不知道要写点啥</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/./archives/">
            
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MadShawn</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
